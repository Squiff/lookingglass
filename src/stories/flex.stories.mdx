import { Meta, Story, Canvas, Description, ArgsTable } from '@storybook/addon-docs/blocks';
import * as stories from './flex.stories.js';
import Flex from '../lib/components/Flex';

<Meta title="Flex" component={Flex} argTypes={stories.argTypes} />

# Flex

<Description of={Flex} />

<Canvas>
    <Story story={stories.AllProps} name="All Props" />
</Canvas>

## Props

<ArgsTable story="All Props" />

## Basics

-   Flexbox is implemented with two components `Flex` and `Flex.Child`.
-   `Flex` will wrap when content is too large
-   Responsive classes are provided for layout changes at different breakpoints
-   `Flex` and `Flex.Child` can be given a `cols` value of `Auto`, `Equal` or numbers `1 - 12`
-   Any `cols` value applied to `Flex` will be applied to all children unless overridden on `Flex.Child`

#### cols values

| Value             |                   Implementation                   | Description                                       |
| :---------------- | :------------------------------------------------: | :------------------------------------------------ |
| Auto              |          flex-grow: 0 <br/>flex-shrink: 1          | Flex children are sized to their content          |
| Equal             | flex-grow: 1 <br/>flex-shrink: 0<br/>flex-basis: 0 | Give children equal widths                        |
| 1-12 (Flex)       |             flex-basis: 100%/#columns              | Create a flex "grid" with this many columns.      |
| 1-12 (Flex.Child) |         flex-basis: (100%/12) \* #columns          | Set the flex child width based on a 12 column row |

## Default

As with flexbox, `<Flex>` will shrink children by default.

<Canvas>
    <Story story={stories.FlexDefault} />
</Canvas>

## Equal Width

Set `cols="auto" for equal width children

<Canvas>
    <Story story={stories.Equal} />
</Canvas>

## Columns

Setting `cols="2"` on `Flex` will create a 'grid' of two columns

<Canvas>
    <Story story={stories.Columns} />
</Canvas>

## Justify

Setting `cols="Auto"` on `Flex` will tell all children to only take up the neccessary space. Use along with Justify to center the content.

<Canvas>
    <Story story={stories.Justify} />
</Canvas>

## Responsive

`Flex` also allows responsive layouts. This is accomplished by setting the value of `col` to an object of shape `{[breakpoint] : [Value]}`.

Below we have set `{s: "1", m: "equal"}`, which means at the small breakpoint the 'grid' will be 1 column wide, but will change at the medium breakpoint to be equal columns.

Note that values are applied for the specified breakpoint **upwards**

<Canvas>
    <Story story={stories.Responsive} />
</Canvas>

## Flex.Child

#### Set Flex Child Columns

Any value applied to `Flex` will be applied to all children unless overridden on `Flex.Child`.

Unlike `Flex`, a `cols` value of `1 - 12` on `Flex.Child` is **based on a 12 column row.**
Meaning `col="12"` is 100% width, `col="9"` is 75% width, `col="4"` is 33% width

Here `Flex cols="1"` so all children default to 100% wide, except Child 2 `Flex.Child cols="8"` and Child 3 `Flex.Child cols="4"`

<Canvas>
    <Story story={stories.ChildrenColumns} />
</Canvas>

#### Responsive Child

`Flex.Child` can also accept a `cols` of shape `{[breakpoint] : [Value]}`.

Here we have set

-   `Flex` to be `col="1"`
-   Child 2 to be `col={{m:'6'}}`
-   Child 3 to be `col={{m:'6'}}`

This means all columns default to 100%. At the medium breakpoint Child 2 and Child 3 will become 6 columns wide

<Canvas>
    <Story story={stories.ResponsiveChildren} />
</Canvas>
